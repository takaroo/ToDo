<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>ToDo List App</title>
	<script src="https://code.jquery.com/jquery-3.3.1.js"
  integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
  crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" 
    integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" 
    crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
	<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="todo.css">

	</head>
<body>
<div id="app">
<header>
	<input type="text" placeholder="Enter an activity..." id="item">
	<button id="addItem">
		<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 44 44" style="enable-background:new 0 0 44 44;" xml:space="preserve"><g><path class="fill" d="M22,44c-3.309,0-6-2.665-6-5.941V28H5.941C2.665,28,0,25.309,0,22s2.665-6,5.941-6H16V5.941C16,2.665,18.691,0,22,0
	s6,2.665,6,5.941V16h10.059C41.335,16,44,18.691,44,22s-2.665,6-5.941,6H28v10.059C28,41.335,25.309,44,22,44z M5.941,18
	C3.805,18,2,19.832,2,22s1.805,4,3.941,4H18v12.059C18,40.195,19.832,42,22,42s4-1.805,4-3.941V26h12.059C40.195,26,42,24.168,42,22
	s-1.805-4-3.941-4H26V5.941C26,3.805,24.168,2,22,2s-4,1.805-4,3.941V18H5.941z"/></g></svg>
	</button>
</header>
<!--<div class="container">

	<ul class="todo" id="completed">
		<li>this is an item
			<div class="buttons">
				<button class="remove"><svg class="fill" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 44 44" style="enable-background:new 0 0 44 44;" xml:space="preserve"><g><path d="M38.059,28H5.941C2.665,28,0,25.309,0,22s2.665-6,5.941-6h32.117C41.335,16,44,18.691,44,22S41.335,28,38.059,28z M5.941,18C3.805,18,2,19.832,2,22s1.805,4,3.941,4h32.117C40.195,26,42,24.168,42,22s-1.805-4-3.941-4H5.941z"/></g></svg></button>
				<button class="complete"><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve"><g><g><path class="fill" d="M449.716,239.842c-0.543-7.535-7.082-13.191-14.628-12.661c-7.536,0.543-13.204,7.092-12.662,14.628c0.337,4.655,0.506,9.431,0.506,14.191c0,109.061-88.726,197.787-197.786,197.787C116.086,453.787,27.36,365.06,27.36,256S116.086,58.214,225.147,58.214c43.191,0,84.21,13.668,118.62,39.525c6.041,4.538,14.615,3.321,19.154-2.718c4.54-6.04,3.323-14.616-2.717-19.154c-39.189-29.447-85.891-45.012-135.058-45.012C101.001,30.854,0,131.855,0,256s101.001,225.145,225.147,225.145S450.292,380.146,450.292,256C450.292,250.586,450.097,245.15,449.716,239.842z"/></g></g><g><g><path class="fill" d="M496.395,61.77c-20.808-20.807-54.666-20.807-75.474,0l-197.11,197.108l-69.874-69.875c-20.808-20.807-54.666-20.807-75.474,0c-20.808,20.808-20.808,54.666,0,75.474l120.341,120.341c6.895,6.895,15.951,10.342,25.007,10.342c9.057,0,18.113-3.447,25.008-10.342l247.576-247.576C517.201,116.435,517.201,82.579,496.395,61.77z M477.049,117.897L229.472,365.475c-3.12,3.12-8.2,3.12-11.32,0L97.811,245.133c-10.141-10.141-10.141-26.64,0-36.781c5.07-5.072,11.729-7.606,18.39-7.606s13.321,2.535,18.39,7.606l71.882,71.882c4.632,4.631,10.791,7.181,17.339,7.181c6.551,0,12.71-2.551,17.341-7.182L440.268,81.116c10.138-10.141,26.64-10.141,36.781,0C487.189,91.257,487.189,107.756,477.049,117.897z"/></g></g></svg></button>
			</div>
		</li>
	</ul>
-->
	<ul class="todo" id="todo">
</ul>

<ul class="todo" id="completed">
</ul>
	
</div>
	
<script>
window.onload=function(){

	var data={
		todo:[],
		completed:[]
	};

	var removeSVG= '<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 44 44" style="enable-background:new 0 0 44 44;" xml:space="preserve"><g><path class="fill" d="M38.059,28H5.941C2.665,28,0,25.309,0,22s2.665-6,5.941-6h32.117C41.335,16,44,18.691,44,22S41.335,28,38.059,28z M5.941,18C3.805,18,2,19.832,2,22s1.805,4,3.941,4h32.117C40.195,26,42,24.168,42,22s-1.805-4-3.941-4H5.941z"/></g></svg>';
	var completeSVG='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve"><g><g><path class="fill" d="M449.716,239.842c-0.543-7.535-7.082-13.191-14.628-12.661c-7.536,0.543-13.204,7.092-12.662,14.628c0.337,4.655,0.506,9.431,0.506,14.191c0,109.061-88.726,197.787-197.786,197.787C116.086,453.787,27.36,365.06,27.36,256S116.086,58.214,225.147,58.214c43.191,0,84.21,13.668,118.62,39.525c6.041,4.538,14.615,3.321,19.154-2.718c4.54-6.04,3.323-14.616-2.717-19.154c-39.189-29.447-85.891-45.012-135.058-45.012C101.001,30.854,0,131.855,0,256s101.001,225.145,225.147,225.145S450.292,380.146,450.292,256C450.292,250.586,450.097,245.15,449.716,239.842z"/></g></g><g><g><path class="fill" d="M496.395,61.77c-20.808-20.807-54.666-20.807-75.474,0l-197.11,197.108l-69.874-69.875c-20.808-20.807-54.666-20.807-75.474,0c-20.808,20.808-20.808,54.666,0,75.474l120.341,120.341c6.895,6.895,15.951,10.342,25.007,10.342c9.057,0,18.113-3.447,25.008-10.342l247.576-247.576C517.201,116.435,517.201,82.579,496.395,61.77z M477.049,117.897L229.472,365.475c-3.12,3.12-8.2,3.12-11.32,0L97.811,245.133c-10.141-10.141-10.141-26.64,0-36.781c5.07-5.072,11.729-7.606,18.39-7.606s13.321,2.535,18.39,7.606l71.882,71.882c4.632,4.631,10.791,7.181,17.339,7.181c6.551,0,12.71-2.551,17.341-7.182L440.268,81.116c10.138-10.141,26.64-10.141,36.781,0C487.189,91.257,487.189,107.756,477.049,117.897z"/></g></g></svg>';

	document.getElementById("addItem").addEventListener('click', function(){
		var value=document.getElementById("item").value;
		if(value) {
		addItemTodo(value);
		document.getElementById('item').value='';
		data.todo.push(value);
		console.log(data);

		}
		dataObjectUpdated();
	});
	
	function dataObjectUpdated(){
		localStorage.setItem('todoList',);//can only store text, not objects
	}
	
	function removeItem(e){//ha csak Ã­gy, akkor az eventet consolelogolja
		var item=this.parentNode.parentNode;
		var parent=item.parentNode;
		var id=parent.id;
		parent.removeChild(item);
		
		var value=item.innerText;
		
		if(id==='todo'){
			data.todo.splice(data.todo.indexOf(value), 1);
		}else if(id==='completed'){
			data.completed.splice(data.completed.indexOf(value), 1);
		}
		console.log(data);
		
		document.getElementsByTagName('body').removeChild;
		
		dataObjectUpdated();
	}
	
	function completeItem(){
		var item=this.parentNode.parentNode;
		var parent=item.parentNode;
		var id=parent.id;
		var value=item.innerText;
		
		if(id==='todo'){
			data.todo.splice(data.todo.indexOf(value), 1);
			data.completed.push(value);
		}else if(id==='completed'){
			data.completed.splice(data.completed.indexOf(value), 1);
			data.todo.push(value);
		}
		console.log(data);
		
		
		var target= (id==='todo') ? target=document.getElementById("completed") : target=document.getElementById("todo");//check it shold be added to parent completed or todo
		
		parent.removeChild(item);
		target.insertBefore(item, target.childNodes[0]);
		
		dataObjectUpdated();
	}
	
	function addItemTodo(text){
		var list=document.getElementById('todo');
		
		var item=document.createElement('li');
		item.innerText=text;
		
		var buttons=document.createElement('div');
		buttons.classList.add('buttons');
		
		var removeButton=document.createElement('button');
		removeButton.classList.add('remove');
		removeButton.innerHTML=removeSVG;
		
		removeButton.addEventListener('click', removeItem);
		
		var completeButton=document.createElement('button');
		completeButton.classList.add('complete');
		completeButton.innerHTML=completeSVG;
		
		completeButton.addEventListener('click', completeItem);
		
		buttons.appendChild(removeButton);
		buttons.appendChild(completeButton);
		item.appendChild(buttons);
		
		list.insertBefore(item, list.childNodes[0]);
		//list.append(item);
		console.log(list);
	}

}
</script>   
</body>
</html>
